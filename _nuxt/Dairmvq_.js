import{_ as z,a as E,b as I,c as w}from"./CBY9xyKC.js";import j from"./CxH68gFP.js";import{u as L,_ as R}from"./LwmaiI8-.js";import{u as S}from"./BPT9pEkU.js";import{e as M,W as A,l as H,q as V,o,c as r,h as _,F as B,r as F,g as e,a as s,b as a,t as C,j as O,f as T,k as q}from"./C88qKsPz.js";import{k as G}from"./CkARFHBF.js";import{u as P}from"./DSxloUHy.js";import"./oP2VfrXJ.js";import"./DlAUqK2U.js";const Q={key:0,class:"text-title-color"},U=["onDragstart","onDrop"],W={class:"flex items-center cursor-grab hover:cursor-grabbing"},J={class:"flex items-center w-32 h-32"},K={class:"rounded-xl cursor-pointer w-max-32"},X=["src"],Y={class:"mx-4"},Z={class:"text-md font-bold text-primary-color"},ee={class:"flex text-xs items-center gap-2 border border-gray-500 rounded-full p-1 w-fit mb-2"},se={class:"flex items-center gap-2"},oe=M({__name:"ClassCard",props:{classes:{}},setup(k){const p=A().params.courseId,l=k,f=H(()=>l.classes.filter(n=>n.course_id==p)),g=V(l.classes),{getCoverUrl:x}=S(),v=A().params.courseId,{onDragOver:h,onDrop:y,onDragStart:b}=L(g),d=()=>{console.log("open modal")},c=(n,t)=>{n&&t?O(`/course/${t}/class/${n}`):console.error("Class ID or Course ID is undefined")};return(n,t)=>{const u=j,$=R;return o(),r(B,null,[n.classes?_("",!0):(o(),r("p",Q,"No hay clases")),f.value.length>0?(o(!0),r(B,{key:1},F(f.value,(m,D)=>(o(),r("main",{key:m.id,class:"py-4",draggable:"true",onDragstart:i=>e(b)(i,D),onDragover:t[0]||(t[0]=i=>e(h)(i)),onDrop:i=>e(y)(i,D)},[s("div",W,[s("div",J,[s("div",null,[a(u,{name:"mingcute:dots-fill",size:"40",class:"text-gray-500"})]),s("div",K,[m.cover?(o(),r("img",{key:0,src:e(x)(m.cover),alt:"",class:"rounded-3xl object-contain w-full h-auto m-1"},null,8,X)):_("",!0)])]),s("div",Y,[s("p",Z,C(m.class_name),1),s("div",ee,[a(u,{name:"material-symbols-light:check",size:"14",class:"text-gray-500"}),t[1]||(t[1]=s("p",{class:"text-xs px-1"},"12/30",-1))]),s("div",se,[a($,{type:"edit",size:"24px",onHandleClick:i=>c(m.id,Number(e(v)))},null,8,["onHandleClick"]),a($,{type:"preview",size:"24px",onHandleClick:d})])])])],40,U))),128)):_("",!0)],64)}}}),te={class:"py-10 px-14 text-title-color mb-6"},re={class:"flex items-center my-5 text-middele-gray"},ne={class:"mr-4"},ae={key:0},le={key:1},ce={key:3,class:"fixed inset-0 w-full h-full bg-gray-600 bg-opacity-50 overflow-y-auto"},ie={class:"min-h-screen flex items-center justify-center"},de={class:"w-full max-w-5xl m-auto p-5"},ye=M({__name:"index",setup(k){const p=T().params.courseId,{data:l,isLoading:f,error:g}=P(p),x=H(()=>{var d;return((d=l.value)==null?void 0:d.filter(c=>c.course_id==p))||[]}),{isOpen:v,openModal:h,closeModal:y}=G(),b=()=>{h()};return(d,c)=>{var u;const n=E,t=I;return o(),r("main",te,[a(n),s("div",re,[s("p",ne,"total lessons "+C(((u=x.value)==null?void 0:u.length)||0),1),c[0]||(c[0]=s("div",{class:"flex-grow border-t-2 border-dotted border-middele-gray"},null,-1))]),e(f)?(o(),r("div",ae,"Loading...")):e(g)?(o(),r("div",le,"Error: "+C(e(g).message),1)):e(l)?(o(),q(oe,{key:2,classes:e(l)},null,8,["classes"])):_("",!0),a(t,{onHandleAdd:b,text:e(w).buttonText},null,8,["text"]),e(v)?(o(),r("div",ce,[s("div",ie,[s("div",de,[a(z,{title:e(w).title,onCloseModal:e(y),showExtraElements:!1},null,8,["title","onCloseModal"])])])])):_("",!0)])}}});export{ye as default};
